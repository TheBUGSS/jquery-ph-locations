<!DOCTYPE html>
<html>
    <head>
        <title>jQuery PH Locations Demo</title>
    </head>
    <body>
        <h1>jQuery PH Locations Demo</h1>
        <div>
            <table>
                <tr>
                    <td>Region</td>
                    <td><select id="region"></select></td>
                </tr>
                <tr>
                    <td>Province</td>
                    <td><select id="province"></select></td>
                </tr>
                <tr>
                    <td>City</td>
                    <td><select id="city"></select></td>
                </tr>
                <tr>
                    <td>Barangay</td>
                    <td><select id="barangay"></select></td>
                </tr>
            </table>

        </div>
        <script type="text/javascript" src="../jquery-3.4.1.min.js"></script>
        <script type="text/javascript" src="../jquery.ph-locations.js"></script>
        <script type="text/javascript">
            
            var my_handlers = {
                fill_provinces:  function(){

                    var region_code = $(this).val();
                    
                    $('#province').ph_locations({
                        'location_type': 'provinces',
                        'filter': {"region_code": region_code}
                    }).on('change', my_handlers.fill_cities);

                },

                fill_cities: function(){

                    var province_code = $(this).val();
                    
                    $('#city').ph_locations({
                        'location_type': 'cities',
                        'filter': {"province_code": province_code}
                    }).on('change', my_handlers.fill_barangays);
                },


                fill_barangays: function(){
                    var city_code = $(this).val();
                    
                    $('#barangay').ph_locations({
                        'location_type': 'barangays',
                        'filter': {"city_code": city_code}
                    });
                }
            };

            $(function(){
                $('#region').ph_locations({'location_type': 'regions'})
                    .on('change', my_handlers.fill_provinces);
            });
        </script>
    </body>
</html>